<html lang="en">
  <head> </head>
  <body>
    <input id="hotkey" onkeyup="keyUp(event)" />
    <button id="save" onclick="saveHotkey()">save</button>
    <script>
      const Store = require('electron-store');
      const config = new Store();

      function loadHotkey() {
        document.getElementById("hotkey").value = config.get("hotkey");
      }
      function saveHotkey() {
        const hotkey = document.getElementById("hotkey").value;
        config.set("hotkey", hotkey);

        require("electron").ipcRenderer.send('hotkeySet');
      }
      function keyUp(event) {
        const keyCode = event.keyCode;
        const key = event.key;
        const charCode = event.code;

        if ((keyCode >= 16 && keyCode <= 18) || keyCode === 91) return;

        const value = [];
        event.ctrlKey ? value.push("Control") : null;
        event.shiftKey ? value.push("Shift") : null;
        event.altKey ? value.push("Alt") : null;
        value.push(key.toUpperCase());

        document.getElementById("hotkey").value = value.join("+");
      }
      loadHotkey();
    </script>
  </body>
</html>